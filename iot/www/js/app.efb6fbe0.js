(function(t){function e(e){for(var n,s,i=e[0],c=e[1],u=e[2],m=0,p=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},o=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1e51":function(t,e,a){"use strict";a("90af")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("div",{staticClass:"container"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("MY IOT")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav me-auto mb-2 mb-lg-0"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link active",attrs:{to:{path:"/"}}},[t._v("Home")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link active",attrs:{to:{path:"/chart"}}},[t._v("Chart")])],1)])])])]),a("router-view")],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],s=a("2877"),i={},c=Object(s["a"])(i,r,o,!1,null,null,null),u=c.exports,l=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-md-center"},[a("div",{staticClass:"card col-9",staticStyle:{"margin-top":"25px"}},[a("div",{staticClass:"card-body shadow-lg d-flex flex-row justify-content-evenly"},[a("weather",{}),a("chart-temperatur",{}),a("gauge-humidity",{})],1)]),a("div",{staticClass:"card col-4 d-flex shadow-lg flex-row justify-content-md-center",staticStyle:{"margin-top":"25px"}},[a("button-control")],1)])])},p=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.LoadingPage?a("div",{staticClass:"temp-wrap"},[a("div",{staticClass:"thermo-temp"},[t._v(t._s(t.sensorRealTime.temperature)+"Â°")]),a("div",{staticClass:"thermo"},[a("div",{staticClass:"guage",style:{height:2*t.sensorRealTime.temperature+"%"}})]),a("div",{staticClass:"bulb"})]):t._e()},f=[],h=a("8e27"),g=a.n(h),v=g.a.connect("http://localhost:3000",{transports:["websocket","polling","flashsocket"]}),b={name:"chart temperature",created:function(){this.$store.dispatch("fetchDataRealTime"),this.getRealtimeData()},methods:{getRealtimeData:function(){var t=this;v.on("newdata",(function(e){console.log(e),t.$store.commit("SET_REAL_TIME_DATA",e)}))}},computed:{sensorRealTime:function(){return this.$store.state.dataRealTime},LoadingPage:function(){return!!this.$store.state.dataRealTime}}},_=b,y=(a("1e51"),Object(s["a"])(_,d,f,!1,null,null,null)),S=y.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex align-items-center",staticStyle:{height:"400px",margin:"30px"}},[a("div",{staticClass:"d-flex flex-column"},[a("div",{staticClass:"gauge d-inline-block",style:{width:"200px","--rotation":1.8*t.sensorRealTime.humidity+"deg","--color":"#5cb85c","--background":"#e9ecef"}},[a("div",{staticClass:"percentage"}),a("div",{staticClass:"mask"}),a("span",{staticClass:"value"},[t._v(t._s(t.sensorRealTime.humidity)+"%")])]),a("h3",{staticStyle:{margin:"auto"}},[t._v("Humidity")])])])},w=[],C=g.a.connect("http://localhost:3000",{transports:["websocket","polling","flashsocket"]}),x={name:"gauge humidty",created:function(){this.$store.dispatch("fetchDataRealTime"),this.getRealtimeData()},methods:{getRealtimeData:function(){var t=this;C.on("newdata",(function(e){console.log(e),t.$store.commit("SET_REAL_TIME_DATA",e)}))}},computed:{sensorRealTime:function(){return this.$store.state.dataRealTime},LoadingPage:function(){return!!this.$store.state.dataRealTime}}},D=x,R=(a("cb97"),Object(s["a"])(D,T,w,!1,null,null,null)),E=R.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column justify-content-center align-content-center",staticStyle:{width:"100%","justify-content":"center","align-items":"center"}},[a("img",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"},attrs:{src:1==t.statusLampu?"https://ik.imagekit.io/fquftlqurx6/lampOn_onpdKIMsq.png?updatedAt=1632292006177":"https://ik.imagekit.io/fquftlqurx6/lampOff_BQQ7DaOgSHW.png?updatedAt=1632292005603",alt:"lamp",width:"100"}}),a("button",{staticClass:"btn btn-primary btn-lg",staticStyle:{width:"200px","margin-bottom":"20px"},attrs:{type:"button"},on:{click:function(e){1==t.statusLampu?t.sentStatusLamp(0):t.sentStatusLamp(1)}}},[t._v(" "+t._s(1==t.statusLampu?"OFF":"ON")+" ")])])},A=[],L=g.a.connect("http://localhost:3000",{transports:["websocket","polling","flashsocket"]}),$={name:"controlLamp",created:function(){this.$store.dispatch("fetchDataLamp"),this.getRealtimeData()},methods:{getRealtimeData:function(){var t=this;L.on("newdataLamp",(function(e){console.log(e),t.$store.commit("SET_DATA_LAMP",e)}))},sentStatusLamp:function(t){this.$store.dispatch("sentDataLamp",t)}},data:function(){return{}},computed:{statusLampu:function(){return+this.$store.state.dataLamp.lamp}}},k=$,O=Object(s["a"])(k,j,A,!1,null,null,null),H=O.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column justify-content-center align-content-center"},[a("img",{staticStyle:{width:"300px"},attrs:{src:"https://openweathermap.org/img/wn/"+t.weatherData[0].icon+"@2x.png",alt:"",srcset:""}}),a("h1",{staticClass:"justify-content-center",staticStyle:{margin:"auto"}},[t._v(" "+t._s(t.weatherData[0].main)+" ")])])},P=[],I={name:"weather",created:function(){this.$store.dispatch("fetchWeather")},data:function(){return{}},computed:{weatherData:function(){return this.$store.state.weather}}},V=I,F=Object(s["a"])(V,M,P,!1,null,null,null),U=F.exports,q={name:"Home",components:{ChartTemperatur:S,GaugeHumidity:E,ButtonControl:H,Weather:U}},N=q,B=Object(s["a"])(N,m,p,!1,null,null,null),W=B.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("value-sensor"),a("value-sensor-humidity")],1)},Y=[],J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card",staticStyle:{"margin-top":"60px"}},[a("div",{staticClass:"card-body shadow-lg"},[t._m(0),a("div",{staticClass:"row justify-content-center"},[a("p",{staticClass:"col-2",staticStyle:{margin:"auto"}},[t._v(" "+t._s(t.longStatusTime.toUpperCase())+" ")])]),a("ve-line",{attrs:{data:t.temperatureValue}}),a("div",{staticClass:"row d-flex justify-content-center"},[a("div",{staticClass:"col-3"},[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic outlined example"}},[a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){return t.tombolFetchData("hour")}}},[t._v(" Hour ")]),a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){return t.tombolFetchData("day")}}},[t._v(" Day ")]),a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){return t.tombolFetchData("month")}}},[t._v(" Month ")])])])])],1)])},Q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row d-flex justify-content-center"},[a("p",{staticClass:"col-2",staticStyle:{margin:"auto"}},[t._v("Temperature")])])}],K=a("c3da"),z=a.n(K),X={name:"ValueTemperature",created:function(){this.$store.dispatch("fetchDataSensorTemperature","hour")},data:function(){return{longStatusTime:"hour"}},methods:{tombolFetchData:function(t){console.log(t),this.$store.dispatch("fetchDataSensorTemperature",t),this.longStatusTime=t}},computed:{temperatureValue:function(){return{columns:[this.longStatusTime,"AVG"],rows:this.$store.state.dataSensorTemperature}},LoadingPage:function(){return!!(this.$store.state.dataSensorTemperature&&this.$store.state.dataSensorTemperature.length>0)}},components:{VeLine:z.a}},Z=X,tt=Object(s["a"])(Z,J,Q,!1,null,null,null),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card",staticStyle:{"margin-top":"60px"}},[a("div",{staticClass:"card-body shadow-lg"},[t._m(0),a("div",{staticClass:"row justify-content-center"},[a("p",{staticClass:"col-2",staticStyle:{margin:"auto"}},[t._v(" "+t._s(t.longStatusTime.toUpperCase())+" ")])]),a("ve-line",{attrs:{data:t.humidityValue}}),a("div",{staticClass:"row d-flex justify-content-center"},[a("div",{staticClass:"col-3"},[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic outlined example"}},[a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){return t.tombolFetchData("hour")}}},[t._v(" Hour ")]),a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){return t.tombolFetchData("day")}}},[t._v(" Day ")]),a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){return t.tombolFetchData("month")}}},[t._v(" Month ")])])])])],1)])},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row d-flex justify-content-center"},[a("p",{staticClass:"col-2",staticStyle:{margin:"auto"}},[t._v("Humidity")])])}],rt={name:"ValueHumidity",created:function(){this.$store.dispatch("fetchDataSensorHumidity","hour")},data:function(){return{longStatusTime:"hour"}},methods:{tombolFetchData:function(t){console.log(t),this.$store.dispatch("fetchDataSensorHumidity",t),this.longStatusTime=t}},computed:{humidityValue:function(){return{columns:[this.longStatusTime,"AVG"],rows:this.$store.state.dataSensorHumidity}},LoadingPage:function(){return!!(this.$store.state.dataSensorHumidity&&this.$store.state.dataSensorHumidity.length>0)}},components:{VeLine:z.a}},ot=rt,st=Object(s["a"])(ot,at,nt,!1,null,null,null),it=st.exports,ct={name:"chart vue",components:{ValueSensor:et,ValueSensorHumidity:it}},ut=ct,lt=Object(s["a"])(ut,G,Y,!1,null,null,null),mt=lt.exports;n["a"].use(l["a"]);var pt=[{path:"/",name:"Home",component:W},{path:"/chart",name:"Chart",component:mt}],dt=new l["a"]({mode:"history",base:"/",routes:pt}),ft=dt,ht=a("1da1"),gt=(a("4e82"),a("d81d"),a("ac1f"),a("1276"),a("c740"),a("a434"),a("a15b"),a("96cf"),a("2f62")),vt=a("bc3a"),bt=a.n(vt);n["a"].use(gt["a"]);var _t="https://iot-imammiko-individual.herokuapp.com",yt=bt.a.create({baseURL:"".concat(_t)}),St=new gt["a"].Store({state:{dataSensorTemperature:[],dataSensorHumidity:[],dataLamp:{},dataRealTime:{},statusLampu:"on",weather:{}},mutations:{SET_DATA_SENSOR_TEMPERATURE:function(t,e){t.dataSensorTemperature=e},SET_DATA_SENSOR_HUMIDITY:function(t,e){t.dataSensorHumidity=e},SET_DATA_LAMP:function(t,e){t.dataLamp=e},SET_REAL_TIME_DATA:function(t,e){t.dataRealTime=e},SET_weather:function(t,e){t.weather=e}},actions:{fetchWeather:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:yt.get("weather").then((function(e){t.commit("SET_weather",e.data.weather)})).catch((function(t){console.log(t)}));case 1:case"end":return e.stop()}}),e)})))()},fetchDataLamp:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:yt.get("/controlLampu").then((function(e){console.log(e.data,"<<<<<data fetch data lamp"),t.commit("SET_DATA_LAMP",e.data)})).catch((function(t){console.log(t)}));case 1:case"end":return e.stop()}}),e)})))()},sentDataLamp:function(t,e){return Object(ht["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n={lamp:+e},yt.post("/controlLampu",n).then((function(e){console.log(e.data,"<<<data dikrim dengan sempurna"),t.commit("SET_DATA_LAMP",e.data)})).catch((function(t){console.log(t)}));case 2:case"end":return a.stop()}}),a)})))()},fetchDataRealTime:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:yt.get("/lastDataSensor").then((function(e){t.commit("SET_REAL_TIME_DATA",e.data)})).catch((function(t){console.log(t)}));case 1:case"end":return e.stop()}}),e)})))()},fetchDataSensorTemperature:function(t,e){return Object(ht["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e=e.toLowerCase(),yt.get("/dataSensorTemperature?rangeData=".concat(e)).then((function(a){function n(t,a){var n=t[e],r=a[e],o=0;return n>r?o=1:n<r&&(o=-1),o}a=a.data,a=a.sort(n),a=a.map((function(t){var a=t[e].split(""),n=a.findIndex((function(t){return"T"==t}));a.splice(n,1," ");var r=a.findIndex((function(t){return"."==t}));a.splice(r);var o=a.join("");return t[e]=o,t})),console.log(a,"<<<<",e),t.commit("SET_DATA_SENSOR_TEMPERATURE",a)})).catch((function(t){console.log(t)}));case 2:case"end":return a.stop()}}),a)})))()},fetchDataSensorHumidity:function(t,e){return Object(ht["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e=e.toLowerCase(),yt.get("/dataSensorHumidity?rangeData=".concat(e)).then((function(a){function n(t,a){var n=t[e],r=a[e],o=0;return n>r?o=1:n<r&&(o=-1),o}a=a.data,a=a.sort(n),a=a.map((function(t){var a=t[e].split(""),n=a.findIndex((function(t){return"T"==t}));a.splice(n,1," ");var r=a.findIndex((function(t){return"."==t}));a.splice(r);var o=a.join("");return t[e]=o,t})),console.log(a,"<<<<",e),t.commit("SET_DATA_SENSOR_HUMIDITY",a)})).catch((function(t){console.log(t)}));case 2:case"end":return a.stop()}}),a)})))()}},modules:{}});n["a"].config.productionTip=!1,new n["a"]({router:ft,store:St,render:function(t){return t(u)}}).$mount("#app")},"5ef8":function(t,e,a){},"90af":function(t,e,a){},cb97:function(t,e,a){"use strict";a("5ef8")}});
//# sourceMappingURL=app.efb6fbe0.js.map